<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Frisna & Nita Wedding Invitation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Leckerli+One&display=swap" rel="stylesheet">

    <!-- SimplyCountdown -->
    <link rel="stylesheet" href="countdown/simplyCountdown.theme.default.css">
    <script src="countdown/simplyCountdown.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
</head>
<body>
    <section id="hero" 
    class="hero w-100 h-100 p-3 mx-auto text-center d-flex justify-content-center
    align-items-center text-white">
    <div class="cover-slide">
        <main>
            <h3>The Wedding of :</h3>
            <h1>Frisna & Nita</h1>
            <p>Akan dilangsungkan dalam:</p>
            <div class="simply-countdown">
            </div>
            <h4>Mohon Kehadirannya kepada Bapak/Ibu/Saudara/i,</h4>
            <pre class="form-control" id="source" rows="3"></pre>
            <a href="#Home" class="btn btn-lg" id="btn">Lihat Undangan</a>
            
            
            
    </div>
            <script>

            </script>
        </main>
    </section>

    <section id="Home" class="Home mx-auto text-center justify-content-center text-white">
        <div class="slideshow">
            <img src="img/slideshow.gif" alt="">
            <div class="judul">
                <h4>The Wedding of :</h4>
                <h1>Frisna & Nita</h1>
            </div>
        </div>
            <div class="ayat">
            <div class="row justify-content-center text-center">
                <div class="col-md-8 col-10 text-center">
                    <div class="icon">
                        <i class="bi bi-envelope-paper-heart-fill"></i>
                    </div>
                        <h3>QS Ar-rum 21</h3>
                        <p>"Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan untukmu dari 
                     jenismu sendiri, agar kamu cenderung dan merasa tenteram kepadanya, dan Dia menjadikan di antaramu 
                     rasa kasih dan sayang.":</p>  
                </div>
                </div>
                <script>
                        // JavaScript
                    document.addEventListener("DOMContentLoaded", function() {
                        // Function to check if element is in viewport
                        function isInViewport(element) {
                            const rect = element.getBoundingClientRect();
                            return (
                                rect.top >= 0 &&
                                rect.left >= 0 &&
                                rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                                rect.right <= (window.innerWidth || document.documentElement.clientWidth)
                            );
                        }
                    
                        // Function to handle scroll event
                        function handleScroll() {
                            const ayatElement = document.querySelector('.ayat');
                            if (isInViewport(ayatElement)) {
                                ayatElement.classList.add('animate');
                            } else {
                                ayatElement.classList.remove('animate');
                            }
                        }
                    
                        // Add scroll event listener
                        window.addEventListener('scroll', handleScroll);
                    
                        // Initial check on page load
                        handleScroll();
                    });
                    
                </script>
            </div>
        </div>
    </section>

    <section id="couple" class="couple">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-10 text-center">
                <div class="couple-row">
                    <img class="bismillah" src="img/bismillah-hijau.png" alt="">
                    <h2 class="salam">Assalamuâ€™alaikum Wr. Wb.</h2>
                    <p>Tanpa mengurangi rasa hormat, perkenankan kami mengundang Bapak/Ibu/Saudara/i, serta kerabat sekalian, untuk menghadiri acara pernikahan kami:</p>
                </div>
            </div>
        </div>
            <script>// JavaScript
            document.addEventListener("DOMContentLoaded", function() {
                // Function to check if element is in viewport
                function isInViewport(element) {
                    const rect = element.getBoundingClientRect();
                    return (
                        rect.top >= 0 &&
                        rect.left >= 0 &&
                        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                        rect.right <= (window.innerWidth || document.documentElement.clientWidth)
                    );
                }
            
                // Function to handle scroll event
                function handleScroll() {
                    const coupleRows = document.querySelectorAll('.couple-row');
                    coupleRows.forEach(row => {
                        if (isInViewport(row)) {
                            row.classList.add('animate');
                        } else {
                            row.classList.remove('animate');
                        }
                    });
                }
            
                // Add scroll event listener
                window.addEventListener('scroll', handleScroll);
            
                // Initial check on page load
                handleScroll();
            });

            </script>

        <div class="container">
            <div class="row text-center">
                <div class="nita">
                    <div class="nita1">
                        <img src="img/nita1.JPG" alt="">
                    </div>
                    <h2>The bride</h2>
                    <h3>Fhiyonita Oktarianie. S, S. Tr.Keb</h3>
                    <h4>Putri Bungsu dari Bapak Simin, S.Sos & Ibu Nurazani</h4>
                </div>
                <div class="frisna">
                    <div class="frisna1">
                        <img src="img/frisna1.JPG" alt="">
                    </div>
                    <h2>The groom</h2>
                    <h3>Frisnadiyo Handika, S.T</h3>
                    <h4>Putra Kedua dari Bapak Drs. Yanto & Ibu Evi Andriani</h4>
                </div>
            </div>
        </div>
            <script>
                // Fungsi untuk memeriksa apakah elemen masuk ke dalam viewport
                function isElementInViewport(el) {
                    var rect = el.getBoundingClientRect();
                    return (
                        rect.top >= 0 &&
                        rect.left >= 0 &&
                        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                        rect.right <= (window.innerWidth || document.documentElement.clientWidth)
                    );
                }

                // Fungsi untuk menambahkan kelas animasi saat elemen masuk ke dalam viewport
                function animateOnScroll() {
                    var nita = document.querySelector('.couple .nita');
                    var frisna = document.querySelector('.couple .frisna');

                    // Periksa apakah elemen "nita" masuk ke dalam viewport
                    if (isElementInViewport(nita)) {
                        nita.classList.add('animate-slide-in-right');
                    } else {
                        nita.classList.remove('animate-slide-in-right');
                    }

                    // Periksa apakah elemen "frisna" masuk ke dalam viewport
                    if (isElementInViewport(frisna)) {
                        frisna.classList.add('animate-slide-in-left');
                    } else {
                        frisna.classList.remove('animate-slide-in-left');
                    }
                }

                // Panggil fungsi animateOnScroll saat jendela di-scroll
                window.addEventListener('scroll', animateOnScroll);

                // Panggil fungsi animateOnScroll untuk memeriksa elemen saat halaman dimuat
                animateOnScroll();

                </script>
    </div>
</section>


    <section id="info" class="info">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-8 col-10 text-center">
                    <h2>Wedding Event<h2>
                </div>
            </div>
                <div class="row justify-content-center mt-4">
                    <div class="col-md-5 col-10">
                        <div class="card text-center text-bg-light">
                            <div class="card-header">Akad Nikah</div>
                            <div class="card-body">
                                <div class="row justify-content-center">
                                    <div class="col-md-6">
                                        <i class="bi bi-clock d-block"></i>
                                        <span>08.00 WIB s/d Selesai</span>
                                    </div>
                                    <div class="col-md-6">
                                        <i class="bi bi-calendar-event d-block"></i>
                                        <span>Rabtu, 10 Februari 2024</span>
                                    </div>
                                </div>    
                            </div>
                        </div>
                    </div>
                    <div class="col-md-5 col-10">
                        <div class="card text-center text-bg-light">
                            <div class="card-header">Resepsi</div>
                            <div class="card-body">
                                <div class="row justify-content-center">
                                    <div class="col-md-6">
                                        <i class="bi bi-clock d-block"></i>
                                        <span>10.00 WIB s/d Selesai</span>
                                    </div>
                                    <div class="col-md-6">
                                        <i class="bi bi-calendar-event d-block"></i>
                                        <span>Sabtu, 10 Februari 2024</span>
                                    </div>
                                </div>    
                            </div>
                        </div>
                    </div>
                </div>
            <div class="row justify-content-center">
                <div class="col-md-12 col-12 text-center">    
                    <div class="maps">
                        <h4>Lokasi Acara</h4>
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d497.8300423078195!2d102.1840560916405!3d-3.437378697477389!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e315beb6dabe10b%3A0xb73b340245e62c4c!2sJl.%20Padat%20Karya%20No.76%2C%20Air%20Merah%2C%20Kec.%20Arga%20Makmur%2C%20Kabupaten%20Bengkulu%20Utara%2C%20Bengkulu%2038611!5e0!3m2!1sid!2sid!4v1706900071027!5m2!1sid!2sid" width="80%" height="200" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                        <h5>Jln. Padat Karya No. 77 RT. 14 Desa Karang Anyar II Kec. Kota Argamakmur B/U</h5>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <p class="col-md-10 col-10 text-center">"Diharapkan untuk tidak salah tanggal dan lokasi. Apabila tiba di lokasi namun tidak
                    ada tanda-tanda sedang dilangsungkan acara pernikahan, boleh jadi Anda salah tanggal
                    atau salah alamat. Mohon periksa kembali detail acara dengan cermat, terima kasih."
                </p>
            </div>
        </div>
        </section>
    <section id="story" class="story">
        <div class="container">
            <div class="row">
                <div class="col-md-8 col-10 text-center justify-content-center">

                </div>
            </div>
        </div>
    </section>
    
    <section class="gallery">
        <div class="text-center">
            <h2>Gallery<h2>
        </div>
        <div class="gallery-list">
            <div class="item">
                <img src="FOTO LAMARAN/tf 4.jpg" alt="Foto 1">
            </div>
            <div class="item">
                <img src="FOTO LAMARAN/tf 2.jpg" alt="Foto 2">
            </div>
            <div class="item">
                <img src="FOTO LAMARAN/tf 6.jpg" alt="Foto 3">
            </div>
            <div class="item">
                <img src="FOTO LAMARAN/tf 7.jpg" alt="Foto 4">
            </div>
            <div class="item">
                <img src="FOTO LAMARAN/tf 11.jpg" alt="Foto 5">
            </div>
            <div class="item">
                <img src="FOTO LAMARAN/tf 10.jpg" alt="Foto 6">
            </div>
            <div class="item">
                <img src="FOTO LAMARAN/tf 16.jpg" alt="Foto 8">
            </div>
            <div class="item">
                <img src="FOTO LAMARAN/tf 2.jpg" alt="Foto 9">
            </div>
            <div class="item">
                <img src="FOTO LAMARAN/tf 15.jpg" alt="Foto 7">
            </div>
            <div class="item">
                <img src="FOTO LAMARAN/ARD_9503.jpg" alt="Foto 9">
            </div>
            <div class="item">
                <img src="FOTO LAMARAN/ARD_9514.jpg" alt="Photo 10">
            </div>
            <div class="item">
                <img src="FOTO LAMARAN/ARD_9523.jpg" alt="Photo 11">
            </div>
        </div>
    </section>
    
    
    <section id="comment" class="comment">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-12 col-12">
                    <div class="comment-card">
                        <h2 class="text-center">Beri Ucapan</h2>
                        <!-- Tampilkan jumlah komentar di sini -->
                        <div class="text-center" id="commentCount"></div>
                        <form id="commentForm" class="comment-form">
                            <div class="form-group">
                                <label for="name">Nama:</label>
                                <input type="text" id="name" name="name" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="message">Ucapan:</label>
                                <textarea id="message" name="message" rows="3" class="form-control" required></textarea>
                            </div>
                            <div class="form-group">
                                <label for="attendance">Konfirmasi Kehadiran:</label>
                                <select id="attendance" name="attendance" class="form-control">
                                    <option value="Hadir">Hadir</option>
                                    <option value="Tidak Hadir">Tidak Hadir</option>
                                </select>
                            </div>
                            <button id="kirim" type="submit" class="btn btn-primary">Kirim</button>
                            <!-- Tombol untuk menampilkan/sembunyikan komentar -->
                            <button id="toggleComments" class="btn btn-secondary">Tampilkan Komentar</button>
                        </form>
                    </div>
    
                    <!-- Tempat menampilkan komentar -->
                    <div id="comments" class="comment-list" style="display: none;">
                        <!-- Komentar akan ditambahkan di sini -->
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-app.js";
    import { getFirestore, collection, addDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-firestore.js";
    
    const firebaseConfig = {
    apiKey: "AIzaSyBhFQgSYFS_CVC7rYuPS104UoDOpeuz-jU",
    authDomain: "diginvite-d7398.firebaseapp.com",
    projectId: "diginvite-d7398",
    storageBucket: "diginvite-d7398.appspot.com",
    messagingSenderId: "107107137467",
    appId: "1:107107137467:web:2fc4f99aaa7c30fd6f369e",
    measurementId: "G-FV5YG0WMJE"
  };
    // Inisialisasi Firebase
    const app = initializeApp(firebaseConfig);
    const dbFirestore = getFirestore(app);
    //   const dbRealtime = getDatabase(app);

  // Menyimpan komentar ke Firestore saat formulir dikirim
    const form = document.getElementById('commentForm');
    form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const name = document.getElementById('name').value;
    const message = document.getElementById('message').value;
    const attendance = document.getElementById('attendance').value;

    try {
      await addDoc(collection(dbFirestore, 'comments'), {
        name: name,
        message: message,
        attendance: attendance,
        timestamp: new Date().toISOString()
      });
      console.log("Komentar berhasil disimpan di Firestore");
      form.reset();
    } catch (error) {
      console.error("Error adding document: ", error);
    }
  });

    // Mendengarkan perubahan pada Firestore dan menampilkan komentar serta menghitung commentCount
    const commentsContainerFirestore = document.getElementById('comments');
    let commentCount = 0; // Inisialisasi commentCount

    onSnapshot(collection(dbFirestore, 'comments'), (snapshot) => {
    commentsContainerFirestore.innerHTML = '';
    commentCount = 0; // Reset commentCount saat mendapatkan snapshot baru
    snapshot.forEach((doc) => {
        const commentData = doc.data();
        const commentItem = document.createElement('div');
        commentItem.classList.add('comment-item'); // Menambahkan class comment-item
        // Mendapatkan timestamp dan mengonversinya ke dalam format yang diinginkan
        const timestamp = new Date(commentData.timestamp);
        const formattedTimestamp = `${timestamp.getDate()}/${timestamp.getMonth() + 1}/${timestamp.getFullYear()}`;

        commentItem.innerHTML = `<strong>${commentData.name}</strong>: ${commentData.message} - ${formattedTimestamp}`;
        commentsContainerFirestore.appendChild(commentItem);
        commentCount++; // Menghitung jumlah komentar
    });

    // Menampilkan jumlah komentar di dalam HTML
    const commentCountContainer = document.getElementById('commentCount');
    commentCountContainer.textContent = `Jumlah Komentar: ${commentCount}`;
    });
    // Menampilkan atau menyembunyikan daftar komentar saat tombol ditekan
    const toggleCommentsButton = document.getElementById('toggleComments');
    toggleCommentsButton.addEventListener('click', function() {
        const commentsContainer = document.getElementById('comments');
        if (commentsContainer.style.display === 'none' || commentsContainer.style.display === '') {
            commentsContainer.style.display = 'block';
            toggleCommentsButton.textContent = 'Sembunyikan Komentar';
        } else {
            commentsContainer.style.display = 'none';
            toggleCommentsButton.textContent = 'Tampilkan Komentar';
        }
    });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>    
    <script>
        simplyCountdown('.simply-countdown', {
            year: 2024, // required
            month: 2, // required
            day: 10, // required
            hours: 8
            , // Default is 0 [0-23] integer
            minutes: 0, // Default is 0 [0-59] integer
            seconds: 0, // Default is 0 [0-59] integer
            words: { //words displayed into the countdown
                days: { singular: 'hari', plural: 'hari' },
                hours: { singular: 'jam', plural: 'jam' },
                minutes: { singular: 'menit', plural: 'menit' },
                seconds: { singular: 'detik', plural: 'detik' }
            },
        })
    </script>
    <script>
        // Function to update the source code
        function updateSource(newSource) {
        // Replace %20 with space
        newSource = decodeURIComponent(newSource.replace(/\+/g, " "));
        
        // Get the DOM elements
        const sourceElement = document.getElementById("source");
        
        // Set the source code and split it into lines
        sourceElement.textContent = newSource;
        const sourceLines = newSource.split("\n");
        
        // Calculate source width and height
        const sourceWidth = sourceLines.reduce((acc, line) => Math.max(acc, line.length), 0);
        
        // Define container width limits
        const maxWidth = 1000;
        
        // Set container width based on source width and limits
        if (sourceWidth > maxWidth) {
            sourceElement.style.width = maxWidth + "px";
        } else {
            sourceElement.style.width = sourceWidth + "px";
        }
        }

        // Get the new source code from the URL parameter
        const urlParams = new URLSearchParams(window.location.search);
        const newSource = urlParams.get("tamu");

        // Update the source code
        if (newSource !== null) {
        updateSource(newSource);
        }

      </script>

    <section id="wedding-gift" class="wedding-gift">
        <div class="container">
            <div class="row col-md-12 col-12"></div>
            <h2>Wedding Gift</h2>
            <p>Selamat datang di bagian Wedding Gift kami! Jika Anda ingin memberikan hadiah pernikahan, berikut adalah nomor rekening kami:</p>
            <div class="account-details">
                <div class="account">
                    <img src="img/bri.png" alt="">
                    <h3>A.n Frisnadiyo Handika</h3>
                    <p>No. Rekening: </p> 
                    <p> 0104 4100 508</p>
                </div>
                <div class="account">
                    <img src="img/bri.png" alt="">
                    <h3>A.n Fhiyonita Oktarianie</h3>
                    <p>No. Rekening: </p>
                    <p> 0104 8918 505</p>
                </div>
            </div>
        </div>
    </section>
    <section id="penutup" class="penutup">
        <h2>Thank you...</h2>
        <img src="img/cover.JPG" alt="">
        <div class="cover">
            <a href="https://dncagency.tech">DNC Agency Indonesia</a>
        </div>  
    </section>
</body>
</html>
